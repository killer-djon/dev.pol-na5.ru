<div id="rightPanelMsgList">
	<table class="Grid">
	<thead>
		<tr>
			<th align="left" width="10px" style="width: 10px"><input type="checkbox" name="selectAllDocsCB" onClick="treeSelectAll(this)"></th>

			<? foreach from=$visibleColumns item=columnID ?>
				<? assign var=nameIndex value=$mm_columnNames[$columnID] ?>
				<? assign var=columnName value=$mmStrings[$nameIndex] ?>

				<? if $columnID == "ATTACHEDFILES" ?>
					<th align=center width=15><img src="../../../MM/html/classic/images/attachment.gif" width=11 height=12></th>
				<? elseif $columnID == "MMM_PRIORITY" ?>
					<th align=center width=15><img border=0 src="../../../common/html/classic/images/priority.gif"></th>
				<? elseif $columnID == "MMM_STATUS" ?>
					<th align="left"><? $columnName ?></th>
				<? else ?>
					<th align="left">
						<? wbs_sortColumn ajax=true status=$sorting field=$columnID ?><? $columnName ?><? /wbs_sortColumn ?>
					</th>
				<? /if ?>
			<? /foreach ?>

		</tr>
	</thead>
	<tbody>
		<? foreach from=$notes key=note_ID item=messageData name=noteLoop ?>
			<? if $messageData.INBOX_MESSAGE ?>

			<tr id="MsgListRow_<? $messageData.MMM_UID ?>"
				class="<? wbs_oddItem index=$smarty.foreach.noteLoop.iteration invert=true ?>"
				<? if !$messageData.MMM_FLAG ?>style="font-weight:bold"<? /if ?>><!-- Mail account and uid are separated by tab! -->
				<td align=left valign=top width="10" style="width: 10px"><input type="checkbox"
						name="document[<? $messageData.MMM_ACCOUNT ?>	<? $messageData.MMM_UID ?>]"
						id="cb_<? $messageData.MMM_ACCOUNT ?>~<? $messageData.MMM_UID ?>"
						value="<? $messageData.MMM_ID ?>"><input type=hidden name="noterights[<? $messageData.MMM_ID ?>]"
						value="<? $messageData.TREE_ACCESS_RIGHTS ?>"><input type=hidden name="noteimages[<? $messageData.MMM_ID ?>]"
						value="<? $messageData.MMM_IMAGES ?>"><input type=hidden name="notetype[<? $messageData.MMM_ID ?>]"
						value="<? $messageData.MMM_STATUS ?>"></td>

				<? foreach from=$visibleColumns item=columnID ?>
					<? if $columnID == "ATTACHEDFILES" ?>
						<td valign=top><? if $messageData.$columnID  ?><img src="../../../MM/html/classic/images/attachment.gif" width=11 height=12 title="<? $messageData.ATTACHEDFILES_NOLINK ?>"><? else ?>&nbsp;<? /if ?></td>
					<? elseif $columnID == "MMM_PRIORITY" ?>
						<td align=center width=15><? if $messageData.$columnID == 5 ?><img src="../../../MM/html/classic/images/lowpr.gif" width=8 height=14><? elseif $messageData.$columnID == 1 ?><img src="../../../MM/html/classic/images/highpr.gif" width=8 height=14><? else ?>&nbsp;<? /if ?></td>
					<? elseif $columnID == "MMF_NAME" ?>
						<td valign=top><a href="#" onclick="getMessage(<? $messageData.ROW_URL ?>)"
							style="<? $mm_statusStyle.$status ?>"><? $messageData.$columnID|htmlsafe:true:true ?></a></td>

					<? elseif $columnID == "MMM_SUBJECT" ?>
						<td valign=top>
							<a href="#" onclick="getMessage(<? $messageData.ROW_URL ?>)">
								<span><? $messageData.MMM_SUBJECT|htmlsafe:true:true ?></span>
								<span id="MsgListLead_<? $messageData.MMM_UID ?>" style="color:gray"><? $messageData.MMM_LEAD ?></span>
							</a>
						</td>

					<? else ?>
						<td valign=top
							<? if $columnID == "MMM_ID" ?>width="15" <? /if ?>nowrap><a href="#"
								onclick="getMessage(<? $messageData.ROW_URL ?>)"
								style="<? $mm_statusStyle.$status ?>"><? $messageData.$columnID|strip|htmlsafe:true:true ?></a>
						</td>
					<? /if ?>

				<? /foreach ?>
			</tr>

			<? else ?>

			<tr id="MsgListRow_<? $messageData.MMM_ID ?>"
				class="<? wbs_oddItem index=$smarty.foreach.noteLoop.iteration invert=true ?>">
				<td align=left valign=top width="10" style="width: 10px"><input type="checkbox"
					name="document[<? $messageData.MMM_ID ?>]"
					id="cb_<? $messageData.MMM_ID ?>"
					value="<? $messageData.MMM_ID ?>"><input type=hidden name="noterights[<? $messageData.MMM_ID ?>]"
					value="<? $messageData.TREE_ACCESS_RIGHTS ?>"><input type=hidden name="noteimages[<? $messageData.MMM_ID ?>]"
					value="<? $messageData.MMM_IMAGES ?>"><input type=hidden name="notetype[<? $messageData.MMM_ID ?>]"
					value="<? $messageData.MMM_STATUS ?>"></td>

				<? if $messageData.pendingError == 1 ?>
					<? assign var=status value=98 ?>
				<? else ?>
					<? assign var=status value=$messageData.MMM_STATUS ?>
				<? /if ?>

				<? foreach from=$visibleColumns item=columnID ?>

					<? if $columnID == "ATTACHEDFILES" ?>
						<td valign=top><? if $messageData.$columnID  ?>
							<img src="../../../MM/html/classic/images/attachment.gif" width=11 height=12
								title="<? $messageData.ATTACHEDFILES_NOLINK ?>"><? else ?>&nbsp;<? /if ?>
						</td>
					<? elseif $columnID == "MMM_PRIORITY" ?>
						<td align=center width=15>
						<? if $messageData.$columnID == 5 ?>
							<img src="../../../MM/html/classic/images/lowpr.gif" width=8 height=14>
						<? elseif $messageData.$columnID == 1 ?>
							<img src="../../../MM/html/classic/images/highpr.gif" width=8 height=14>
						<? else ?>&nbsp;<? /if ?>
						</td>
					<? elseif $columnID == "MMF_NAME" ?>
						<td valign=top><a href="#"
							onclick="getMessageForm('<? $messageData.MMM_ID ?>', '<? $messageData.MMM_STATUS ?>'); return false"
							style="<? $mm_statusStyle.$status ?>"><? $messageData.$columnID|htmlsafe:true:true ?></a></td>
					<? elseif $columnID == "MMM_STATUS" ?>
						<td valign=top><a href="#"
							onclick="getMessageForm('<? $messageData.MMM_ID ?>', '<? $messageData.MMM_STATUS ?>'); return false"
							style="<? $mm_statusStyle.$status ?>"><? $messageData.MSGSTATUS ?></a></td>

					<? else ?>
						<td valign=top
							<? if $columnID == "MMM_ID" ?>width="15"<? /if ?>
							<? if $columnID == "MMM_SIZE" || $columnID == "MMM_DATETIME" || $columnID == "MMM_FROM" || $columnID == "MMM_TO" ?> nowrap<? /if ?>><a href="#"
								onclick="getMessageForm('<? $messageData.MMM_ID ?>', '<? $messageData.MMM_STATUS ?>'); return false"
								style="<? $mm_statusStyle.$status ?>"><? $messageData.$columnID|strip|htmlsafe:true:true ?></a></td>
					<? /if ?>

				<? /foreach ?>
			</tr>

			<? /if ?>
		<? foreachelse ?>
			<tr class="NoRecords">
				<td colspan="<? $numVisibleColumns ?>" class="default"><? $mmStrings.app_screen_norecords_label|htmlsafe:true:true ?></td>
			</tr>
		<? /foreach ?>
	</tbody>
	</table>
</div>