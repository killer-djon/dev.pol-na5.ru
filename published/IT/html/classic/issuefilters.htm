<html>
<head>
<title>
<? $pageTitle ?>
</title>
<meta http-equiv="Content-Type" content="text/html; charset=<? $html_encoding ?>">
<link href="<? "styles.css"|stylesetitem:"classic":$styleSet ?>" rel="stylesheet" type="text/css">
<script src="../../../common/html/classic/styles/WebSubMenu.js"></script>
<script language="JavaScript">
<!--
	function focusControl(objName) {
		 var obj = MM_findObj(objName); 
		 if (obj)
			obj.focus( );
	}

	function MM_findObj(n, d) { //v4.0
		var p,i,x;	if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
		d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
		if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
		for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
		if(!x && document.getElementById) x=document.getElementById(n); return x;
	} 

	function fillSelected() {
		var Object = MM_findObj("hiddenStatuses[]");
		var selObj = Object.options;

		for (var i=0; i<selObj.length; i++)
			selObj[i].selected = true;

		var Object = MM_findObj("shownStatuses[]");
		var selObj = Object.options;

		for (var i=0; i<selObj.length; i++)
			selObj[i].selected = true;
	}

	function moveIt( src, dest ) {

		srcObj = MM_findObj(src);
		destObj = MM_findObj(dest);

		if (srcObj.selectedIndex>=0) {

			selObj = srcObj.options[srcObj.selectedIndex];
			newPos = destObj.length;

			destObj.options[newPos] = new Option(selObj.text, selObj.value);
			srcObj.options[selObj.index] = null;
		}
	}
//-->
</script>	
</head>
<body bgcolor="#FFFFFF" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" class="default" onLoad="focusControl('filterData[ISSF_NAME]');">
<? strip ?>
<form action="<? $formLink ?>" method="post" enctype="multipart/form-data" name="form" onSubmit="fillSelected()">
	<? include file="../../../common/html/classic/header.htm" ?>
	<? if $fatalError ?>
	<? include file="../../../common/html/classic/errblock.htm" errorStr=$errorStr ?>
	<? /if?>
	<? if !$fatalError ?>
	<? include file="../../../common/html/classic/errblock.htm" errorStr=$errorStr ?>

	<? include file="../../../common/html/classic/formframe_begin.htm"?>
	<table border="0" cellspacing="0" cellpadding="1">
		<tr> 
			<td valign="top">
				<table border="0" cellspacing="1" cellpadding="0">
					<tr>
						<td colspan=2 class=formSection><? $itStrings.mf_showissues_label ?></td>
					</tr>
					<tr> 
						<td align="right" class="label"><? $itStrings.mf_createdby_label|cat:":" ?></td>
						<td>
							<select name="filterData[ISFF_U_ID_AUTHOR]" class="control" style="width: 150px">
								<? html_options values=$authorIDs selected=$filterData.ISFF_U_ID_AUTHOR output=$authorValues ?>
							</select>
						</td>
					</tr>
					<tr> 
						<td align="right" class="label"><? $itStrings.mf_sentby_label|cat:":" ?></td>
						<td>
							<select name="filterData[ISFF_U_ID_SENDER]" class="control" style="width: 150px">
								<? html_options values=$authorIDs selected=$filterData.ISFF_U_ID_SENDER output=$authorValues ?>
							</select>
						</td>
					</tr>
					<tr> 
						<td align="right" class="label"><? $itStrings.mf_assignedto_label|cat:":" ?></td>
						<td>
							<select name="filterData[ISFF_U_ID_ASSIGNED]" class="control" style="width: 150px">
								<? html_options values=$assignmentIDs selected=$filterData.ISFF_U_ID_ASSIGNED output=$assignmentValues ?>
							</select>
						</td>
					</tr>
					<tr>
						<td colspan=2>&nbsp;</td>
					</tr>
					<tr> 
						<td align="left" colspan=2>
							<table border="0" cellspacing="0" cellpadding="0">
								<tr>
									<td><input type=radio name="filterData[ISSF_ISSUE_COMPLETE]" value=2 <? switchedOutput str1="checked" str2="" val=$filterData.ISSF_ISSUE_COMPLETE true_val=2 ?> ></td>
									<td><? $itStrings.mf_opencomplete_label ?></td>
								</tr>
								<tr>
									<td><input type=radio name="filterData[ISSF_ISSUE_COMPLETE]" value=0 <? switchedOutput str1="checked" str2="" val=$filterData.ISSF_ISSUE_COMPLETE true_val=0 ?> ></td>
									<td><? $itStrings.mf_openonly_label ?></td>
								</tr>
								<tr>
									<td><input type=radio name="filterData[ISSF_ISSUE_COMPLETE]" value=1 <? switchedOutput str1="checked" str2="" val=$filterData.ISSF_ISSUE_COMPLETE true_val=1 ?> ></td>
									<td><? $itStrings.mf_completeonly_label ?></td>
								</tr>
							</table>

						</td>
					</tr>
				</table>
			</td>
			<td>
				<table border="0" cellspacing="2" cellpadding="0">
					<tr> 
						<td colspan="3" class="formSection"><? $itStrings.mf_visiblestates_title ?></td>
					</tr>
					<tr> 
						<td class="readonly_control"><? $itStrings.mf_shownissues_title ?></td>
						<td>&nbsp;</td>
						<td class="readonly_control"><? $itStrings.mf_hiddenissues_title ?></td>
					</tr>
					<tr> 
						<td>
							<select name="shownStatuses[]" size="8" multiple class="control" id="shownStatuses" style="width: 149px;" onDblClick="moveIt('shownStatuses[]', 'hiddenStatuses[]')" >
								<? html_options values=$shownStatuses output=$shownStatuses ?>
							</select>
						</td>
						<td align="center" valign="middle"><a href="javascript: moveIt('shownStatuses[]', 'hiddenStatuses[]' )"><img src="<? "images/buttons/moveRight.gif"|stylesetitem:"classic":$styleSet ?>" width="30" height="22" border="0"></a><br><a href="javascript: moveIt('hiddenStatuses[]', 'shownStatuses[]')"><img src="<? "images/buttons/moveLeft.gif"|stylesetitem:"classic":$styleSet ?>" width="30" height="22" border="0"></a></td>
						<td>
							<select name="hiddenStatuses[]" size="8" multiple class="control" id="hiddenStatuses" style="width: 149px;" onDblClick="moveIt('hiddenStatuses[]', 'shownStatuses[]')" >
								<? html_options values=$hiddenStatuses output=$hiddenStatuses ?>
							</select>
						</td>
					</tr>
				</table>
			</td>
		</tr>
		<tr>
			<td colspan="2" valign="top"><? #sep5_img# ?></td>
		</tr>
		<tr>
			<td colspan="2" valign="top" class=formSection><? $itStrings.mf_createdatefilter_title ?></td>
		</tr>
		<tr>
			<td colspan=2>
				<table border=0 cellspacing=0 cellpadding=0>
					<tr>
						<td width=30>&nbsp;</td>
						<td><input type=radio name="filterData[ISSF_WORKSTATE_CREATEDAY_OPT]" value=0 <? switchedOutput str1="checked" str2="" val=$filterData.ISSF_WORKSTATE_CREATEDAY_OPT true_val=0 ?>></td>
						<td>
							<? $itStrings.mf_nocreatedateflt_label|cat:"&nbsp;" ?>
						</td>
					</tr>
				</table>
			</td>
		</tr>
		<tr>
			<td colspan=2>
				<table border=0 cellspacing=0 cellpadding=0>
					<tr>
						<td width=30>&nbsp;</td>
						<td><input type=radio name="filterData[ISSF_WORKSTATE_CREATEDAY_OPT]" value=1 <? switchedOutput str1="checked" str2="" val=$filterData.ISSF_WORKSTATE_CREATEDAY_OPT true_val=1 ?>></td>
						<td>
							<? conditionalOutput invalidField=$invalidField field=ISSF_LASTDAYS text=#invalidFieldHighlight# ?>
							<? $itStrings.mf_createdinlast_label|cat:"&nbsp;" ?>
						</td>
						<td><input type=text class=control style="width: 50px" maxlength=10 name="filterData[ISSF_LASTDAYS]" value="<? $filterData.ISSF_LASTDAYS ?>"></td>
						<td><? "&nbsp;"|cat:$itStrings.mf_days_label ?></td>
					<tr>
				</table>
			</td>
		</tr>
		<tr>
			<td colspan=2>
				<table border=0 cellspacing=0 cellpadding=0>
					<tr>
						<td width=30>&nbsp;</td>
						<td><input type=radio name="filterData[ISSF_WORKSTATE_CREATEDAY_OPT]" value=2 <? switchedOutput str1="checked" str2="" val=$filterData.ISSF_WORKSTATE_CREATEDAY_OPT true_val=2 ?>></td>
						<td>
							<? conditionalOutput invalidField=$invalidField field=ISSF_DAYSAGO text=#invalidFieldHighlight# ?>
							<? $itStrings.mf_daysago_label|cat:"&nbsp;" ?>
						</td>
						<td><input type=text class=control style="width: 50px" maxlength=10 name="filterData[ISSF_DAYSAGO]" value="<? $filterData.ISSF_DAYSAGO ?>"></td>
						<td><? "&nbsp;"|cat:$itStrings.mf_overdue_label ?></td>
					<tr>
				</table>
			</td>
		</tr>
		<tr>
			<td colspan="2" valign="top"><? #sep5_img# ?></td>
		</tr>
		<tr>
			<td colspan="2" valign="top" class=formSection><? $itStrings.mf_findforgotten_label ?></td>
		</tr>
		<tr>
			<td colspan=2>
				<table border=0 cellspacing=0 cellpadding=0>
					<tr>
						<td width=30>&nbsp;</td>
						<td>
							<? conditionalOutput invalidField=$invalidField field=ISSF_PENDING text=#invalidFieldHighlight# ?>
							<? $itStrings.mf_notforwarding_label|cat:"&nbsp;" ?>
						</td>
						<td><input type=text class=control style="width: 50px" maxlength=10 name="filterData[ISSF_PENDING]" value="<? $filterData.ISSF_PENDING ?>"></td>
						<td><? "&nbsp;"|cat:$itStrings.mf_dysormore_label ?></td>
					<tr>
				</table>
			</td>
		</tr>
		<tr>
			<td colspan="2" valign="top"><? #sep5_img# ?></td>
		</tr>
		<tr> 
			<td colspan="2" valign="top" class="label"> 
				<? conditionalOutput invalidField=$invalidField field=ISSF_SEARCHSTRING text=#invalidFieldHighlight# ?>
				<? $itStrings.mf_containstext_label|cat:":" ?>
			</td>
		</tr>
		<tr> 
			<td colspan="2" valign="top">
				<input name="filterData[ISSF_SEARCHSTRING]" type="text" class="control" style="width: 99%" value="<? $filterData.ISSF_SEARCHSTRING ?>" maxlength="255">
			</td>
		</tr>
		<tr>
			<td colspan="2" valign="top"><img src="../../../common/html/classic/images/5pixsep.gif" width="5" height="5"></td>
		</tr>
		<tr> 
			<td colspan="2" valign="top" class="label">
				<? conditionalOutput invalidField=$invalidField field=ISSF_NAME text=#invalidFieldHighlight# ?>
				<? $itStrings.mf_saveas_label|cat:":" ?>
			</td>
		</tr>
		<tr> 
			<td colspan="2" valign="top">
				<input name="filterData[ISSF_NAME]" type="text" class="control" style="width: 99%" value="<? $filterData.ISSF_NAME ?>" maxlength="250">
			</td>
		</tr>
	</table>
	<? include file="../../../common/html/classic/formframe_end.htm" extraLine=1?>

	<? include file="../../../common/html/classic/button.htm" align="left" name="savebtn" caption=$kernelStrings.app_save_btn formname="form" space_left=5 space_right=10 onClick="fillSelected()" ?>
	<? include file="../../../common/html/classic/button.htm" align="left" name="cancelbtn" caption=$kernelStrings.app_cancel_btn formname="form" onClick="fillSelected()" ?>
	<? else ?>
	<? include file="../../../common/html/classic/button.htm" align="left" name="cancelbtn" caption=$kernelStrings.app_cancel_btn formname="form"?>
	<? /if ?>
	<input name="edited" type="hidden" id="edited" value="1">
	<input name="P_ID" type="hidden" value="<? $P_ID ?>">
	<input name="opener" type="hidden" value="<? $opener ?>">
	<input name="action" type="hidden" value="<? $action ?>">
	<input name="filterData[ISSF_ID]" type="hidden" value="<? $filterData.ISSF_ID?>">
	<input type="hidden" name="btndummy">
<?include file="../../../common/html/classic/pagefooter.htm"?>
</form>

<? /strip ?>
</body>
</html>
