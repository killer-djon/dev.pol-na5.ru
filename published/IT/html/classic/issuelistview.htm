<html>
<head>
<title>
<? $pageTitle ?>
</title>
<meta http-equiv="Content-Type" content="text/html; charset=<? $html_encoding ?>">
<link href="<? "styles.css"|stylesetitem:"classic":$styleSet ?>" rel="stylesheet" type="text/css">
<script src="../../../common/html/classic/styles/WebSubMenu.js"></script>
<script language="JavaScript">
<!--
function focusControl(objName) {
	 var obj = MM_findObj(objName); 
	 if (obj)
		obj.focus( );
}

function MM_findObj(n, d) { //v4.01
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && d.getElementById) x=d.getElementById(n); return x;
}

function fillSelected() {
	var Object = MM_findObj("hiddenColumnsIDs[]");
	var selObj = Object.options;
	
	for (var i=0; i<selObj.length; i++)
		selObj[i].selected = true;

	var Object = MM_findObj("visibleColumnsIDs[]");
	var selObj = Object.options;

	for (var i=0; i<selObj.length; i++)
		selObj[i].selected = true;
}

function moveIt( src, dest ) {

	srcObj = MM_findObj(src);
	destObj = MM_findObj(dest);

	if (srcObj.selectedIndex>=0) {
		selObj = srcObj.options[srcObj.selectedIndex];
		newPos = destObj.length;

		destObj.options[newPos] = new Option(selObj.text, selObj.value);
		srcObj.options[selObj.index] = null;
	}
}

function changePosition( obj, direction ) {
	srcObj = MM_findObj(obj);
	
	if (srcObj.selectedIndex>=0) {
	
		selected = srcObj.selectedIndex;
		len = srcObj.options.length;
	
		if ( (selected == 0 && direction == -1) || (selected == (len-1) && direction == 1)  )
			return;
		
		selObj = srcObj.options[selected];
		obj1 = srcObj.options[selected+direction];
		
		srcObj.options[selected+direction] = new Option(selObj.text, selObj.value);
		srcObj.options[selected] = obj1;
		
		srcObj.selectedIndex = selected+direction;
	}	
}

//-->
</script>
</head>
<body bgcolor="#FFFFFF" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" class="default">
<? strip ?>
<form action="<? $formLink ?>" method="post" enctype="multipart/form-data" name="form">
	<? include file="../../../common/html/classic/header.htm"?>
	<? include file="../../../common/html/classic/errblock.htm" errorStr=$errorStr ?>
	<? if !$fatalError ?>

	<table border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><? $itStrings.cv_numrecs_label|cat:":&nbsp;" ?></td>
			<td>
				<select  name="viewdata[RECORSPERPAGE]" >
					<? html_options values=$recsPerPage output=$recsPerPage selected=$viewdata.RECORSPERPAGE ?>
				</select>
			</td>
		</tr>
		<tr><td colspan=2>&nbsp;</td></tr>
	</table>
	<table border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><input type="checkbox" name="viewdata[RESTRICTDESCRIPTION]" value="1" <? switchedOutput val= $viewdata.RESTRICTDESCRIPTION true_val=1 str1="checked" ?>></td>
			<td valign="middle">
				<nobr> 
					<table border="0" cellspacing="0" cellpadding="0">
						<tr valign="middle"> 
							<td valign="middle"><? $itStrings.cv_issuelen_label|cat:" " ?><input name="viewdata[DESCLENGTH]" type="text" class="control" value="<? $viewdata.DESCLENGTH ?>" size="5">&nbsp;</td>
							<td><? conditionalOutput invalidField=$invalidField field=DESCLENGTH  text=#invalidFieldHighlight#  ?><? " "|cat:$itStrings.cv_characters_label ?></td>
						</tr>
					</table>
				</nobr>
			</td>
		</tr>
		<tr> 
			<td valign="top"><input type="checkbox" name="viewdata[DISPLAYSENDLINKS]" value="1" <? switchedOutput val= $viewdata.DISPLAYSENDLINKS true_val=1 str1="checked" ?>></td>
			<td valign="middle"><? $itStrings.cv_displquickfw_label ?></td>
		</tr>
		<tr> 
			<td valign="top"><input type="checkbox" name="viewdata[DISPLAYISSUEHISTORY]" value="1" <? switchedOutput val= $viewdata.DISPLAYISSUEHISTORY true_val=1 str1="checked" ?>></td>
			<td valign="middle"><? $itStrings.cv_showissuehistory_label ?></td>
		</tr>
		<tr><td>&nbsp;</td><td>&nbsp;</td></tr>
	</table>

	<table border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><? $itStrings.cv_visiblecolumns_title|cat:":" ?></td>
		</tr>
		<tr><td>&nbsp;</td></tr>
	</table>

	<table border="0" cellspacing="2" cellpadding="0">
		<tr> 
			<td class="readonly_control"><? $itStrings.cv_visiblelist_title ?></td>
			<td></td>
			<td class="readonly_control"><? $itStrings.cv_hiddenlist_title ?></td>
		</tr>
		<tr> 
			<td><select name="visibleColumnsIDs[]" size="8" style="width: 200px; height: 130px" class="control" multiple ondblclick="moveIt('visibleColumnsIDs[]', 'hiddenColumnsIDs[]')">
					<? html_options values=$visibleColumnsIDs output=$visibleColumnsNames ?>
				</select>
			</td>
			<td width="40" align="center"><a href="javascript: changePosition('visibleColumnsIDs[]', -1)" title="<? $kernelStrings.app_upbtn_hint ?>"><img src="<? "images/buttons/moveUp.gif"|stylesetitem:"classic":$styleSet ?>" width="30" height="22" border="0"></a><br><a href="javascript: changePosition('visibleColumnsIDs[]', 1)" title="<? $kernelStrings.app_downbtn_hint ?>"><img src="<? "images/buttons/moveDown.gif"|stylesetitem:"classic":$styleSet ?>" width="30" height="22" border="0"></a><br><br><a href="javascript: moveIt('hiddenColumnsIDs[]', 'visibleColumnsIDs[]' )" title="<? $kernelStrings.app_leftbtn_hint ?>"><img src="<? "images/buttons/moveLeft.gif"|stylesetitem:"classic":$styleSet ?>" width="30" height="22" border="0"></a><br><a href="javascript: moveIt('visibleColumnsIDs[]', 'hiddenColumnsIDs[]' )" title="<? $kernelStrings.app_rightbtn_hint ?>"><img src="<? "images/buttons/moveRight.gif"|stylesetitem:"classic":$styleSet ?>" width="30" height="22" border="0"></a></td>
			<td><select name="hiddenColumnsIDs[]" size="8" style="width: 200px; height: 130px" class="control" multiple onDblClick="moveIt('hiddenColumnsIDs[]', 'visibleColumnsIDs[]')">
					<? html_options values=$hiddenColumnsIDs output=$hiddenColumnsNames ?>
				</select>
			</td>
	  </tr>
	</table>

	<table border="0" cellpadding="0" cellspacing="0">
		<tr><td>&nbsp;</td></tr>
		<tr>
			<td><? $itStrings.cv_listsettings_title|cat:":" ?></td>
		</tr>
		<tr><td>&nbsp;</td></tr>
	</table>
	<div style="padding-left: 20px">	
		<table border="0" cellpadding="0" cellspacing="0">
			<tr> 
				<td><input type="checkbox" name="viewdata[SHOWSTATUS]" value="1" <? switchedOutput val= $viewdata.SHOWSTATUS true_val=1 str1="checked" ?>></td>
				<td valign="middle"><? $itStrings.cv_showstatus_label ?></td>
			</tr>
			<tr> 
				<td><input type="checkbox" name="viewdata[SHOWSENDER]" value="1" <? switchedOutput val= $viewdata.SHOWSENDER true_val=1 str1="checked" ?>></td>
				<td valign="middle"><? $itStrings.cv_showsender_label ?></td>
			</tr>
			<tr> 
				<td><input type="checkbox" name="viewdata[SHOWASSIGNEE]" value="1" <? switchedOutput val= $viewdata.SHOWASSIGNEE true_val=1 str1="checked" ?>></td>
				<td valign="middle"><? $itStrings.cv_showassignee_label ?></td>
			</tr>
			<tr><td>&nbsp;</td><td>&nbsp;</td></tr>
		</table>
	</div>

  <? include file="../../../common/html/classic/button.htm" align="left" name="savebtn" caption=$kernelStrings.app_save_btn formname="form" space_right=10 onClick="fillSelected()"?>
  <? include file="../../../common/html/classic/button.htm" align="left" name="cancelbtn" caption=$kernelStrings.app_cancel_btn formname="form" onClick="fillSelected()"?>
  <? else ?>
  <? include file="../../../common/html/classic/button.htm" align="left" name="cancelbtn" caption=$kernelStrings.app_cancel_btn formname="form"?>
  <? /if ?>
  <input name="edited" type="hidden" id="edited" value="1">
  <input name="P_ID" type="hidden" value="<? $P_ID ?>">
  <input type="hidden" name="btndummy">
<?include file="../../../common/html/classic/pagefooter.htm"?>
</form>

<? /strip ?>
</body>
</html>
